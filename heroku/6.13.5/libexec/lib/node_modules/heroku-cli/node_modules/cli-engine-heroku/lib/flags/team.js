'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = TeamFlag;

var _flags = require('cli-engine-command/lib/flags');

function TeamFlag(options = {}, env = process.env) {
  const defaultOptions = {
    char: 't',
    description: 'team to use',
    parse: (input, cmd) => {
      if (input) return input;
      if (env.HEROKU_TEAM) return env.HEROKU_TEAM;
      if (cmd && cmd.flags.org) return cmd.flags.org;
      if (env.HEROKU_ORGANIZATION) return env.HEROKU_ORGANIZATION;
      if (options.required) throw new Error('No team specified');
    }
  };
  return (0, _flags.merge)(defaultOptions, options);
}