.ad l
.TH ldns 3 "30 May 2006"
.SH NAME
ldns_tcp_send_query, ldns_tcp_read_wire, ldns_tcp_connect \- tcp queries

.SH SYNOPSIS
#include <stdint.h>
.br
#include <stdbool.h>
.br
.PP
#include <ldns/ldns.h>
.PP
ssize_t ldns_tcp_send_query(ldns_buffer *qbin, int sockfd, const struct sockaddr_storage *to, socklen_t tolen);
.PP
uint8_t* ldns_tcp_read_wire(int sockfd, size_t *size);
.PP
int ldns_tcp_connect(const struct sockaddr_storage *to, socklen_t tolen, struct timeval timeout);
.PP

.SH DESCRIPTION
.HP
\fIldns_tcp_send_query\fR()
send a query via tcp to a server. Don't want for the answer

\.br
\fBqbin\fR: the buffer to send
\.br
\fBsockfd\fR: the socket to use
\.br
\fBto\fR: which ip to send it
\.br
\fBtolen\fR: socketlen
\.br
Returns number of bytes sent
.PP
.HP
\fIldns_tcp_read_wire\fR()
This routine may block. Use ldns_tcp_read_wire_timeout, it checks timeouts.
Gives back a raw packet from the wire and reads the header data from the given
socket. Allocates the data (of size size) itself, so don't forget to free

\.br
\fBsockfd\fR: the socket to read from
\.br
\fBsize\fR: the number of bytes that are read
\.br
Returns the data read
.PP
.HP
\fIldns_tcp_connect\fR()
Create a tcp socket to the specified address
\.br
\fBto\fR: ip and family
\.br
\fBtolen\fR: length of to
\.br
\fBtimeout\fR: timeout for the connect attempt
\.br
Returns a socket descriptor
.PP
.SH AUTHOR
The ldns team at NLnet Labs. Which consists out of
Jelte Jansen and Miek Gieben.

.SH REPORTING BUGS
Please report bugs to ldns-team@nlnetlabs.nl or in 
our bugzilla at
http://www.nlnetlabs.nl/bugs/index.html

.SH COPYRIGHT
Copyright (c) 2004 - 2006 NLnet Labs.
.PP
Licensed under the BSD License. There is NO warranty; not even for
MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.

.SH SEE ALSO
\fIldns_send\fR, \fIldns_pkt\fR, \fIldns_resolver\fR.
And \fBperldoc Net::DNS\fR, \fBRFC1034\fR,
\fBRFC1035\fR, \fBRFC4033\fR, \fBRFC4034\fR  and \fBRFC4035\fR.
.SH REMARKS
This manpage was automatically generated from the ldns source code by
use of Doxygen and some perl.
