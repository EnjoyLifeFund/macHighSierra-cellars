<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_75) on Wed Nov 11 18:31:02 PST 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>tachyon.worker (Tachyon Servers 0.8.2 API)</title>
<meta name="date" content="2015-11-11">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="tachyon.worker (Tachyon Servers 0.8.2 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../tachyon/web/package-summary.html">Prev Package</a></li>
<li><a href="../../tachyon/worker/block/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?tachyon/worker/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;tachyon.worker</h1>
<div class="docSummary">
<div class="block">Worker process and utils for working with the worker remotely.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../tachyon/worker/DataServer.html" title="interface in tachyon.worker">DataServer</a></td>
<td class="colLast">
<div class="block">Defines how to interact with a server running the data protocol.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../tachyon/worker/DataServer.Factory.html" title="class in tachyon.worker">DataServer.Factory</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../tachyon/worker/TachyonWorker.html" title="class in tachyon.worker">TachyonWorker</a></td>
<td class="colLast">
<div class="block">Entry point for the Tachyon Worker.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../tachyon/worker/WorkerContext.html" title="class in tachyon.worker">WorkerContext</a></td>
<td class="colLast">
<div class="block">A WorkerContext object stores TachyonConf.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../tachyon/worker/WorkerIdRegistry.html" title="class in tachyon.worker">WorkerIdRegistry</a></td>
<td class="colLast">
<div class="block">The single place to get, set, and update worker ID.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../tachyon/worker/WorkerSource.html" title="class in tachyon.worker">WorkerSource</a></td>
<td class="colLast">
<div class="block">A WorkerSource collects a Worker's internal state.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package tachyon.worker Description">Package tachyon.worker Description</h2>
<div class="block">Worker process and utils for working with the worker remotely.

 Main entry point for the worker is <a href="../../tachyon/worker/TachyonWorker.html#main(java.lang.String[])"><code>TachyonWorker.main(String[])</code></a> which gets
 started by the tachyon start scripts. The <a href="../../tachyon/worker/TachyonWorker.html" title="class in tachyon.worker"><code>TachyonWorker</code></a> class spins up the
 different RPC services (thrift, data) which are mostly wrappers around
 <a href="../../tachyon/worker/block/BlockDataManager.html" title="class in tachyon.worker.block"><code>BlockDataManager</code></a>.

 <h1>Services</h1>

 <h2>Thrift</h2>

 The thrift service is mostly responsible for metadata operations (with a few operations that
 effect the worker's cached memory).

 <h3>Checkpoint</h3>

 The act of moving temporary data into accessible data on <a href="http://tachyon-project.org/tachyon-common/apidocs/tachyon/underfs/UnderFileSystem.html?is-external=true" title="class or interface in tachyon.underfs"><code>UnderFileSystem</code></a>.
 This is triggered by <a href="http://tachyon-project.org/tachyon-clients/tachyon-client-unshaded/apidocs/tachyon/client/WriteType.html?is-external=true#isThrough()" title="class or interface in tachyon.client"><code>WriteType.isThrough()</code></a> operations.

 Implementation can be found at
 <code>tachyon.worker.block.BlockDataManager#addCheckpoint(long, int)</code>

 <h3>Cache Block</h3>

 Move's user generated blocks to the tachyon data directory. This operation expects that the
 caller is a local (to the node) caller, and that the input are under the user directories.

 Implementation can be found at
 <a href="../../tachyon/worker/block/BlockDataManager.html#commitBlock(long,%20long)"><code>BlockDataManager.commitBlock(long, long)</code></a>

 <h3>Lock / Unlock</h3>

 Tachyon supports caching blocks to local disk (client side). When this happens, a lock is given
 to the client to protect it from the remote block changing.

 Implementation can be found at
 <a href="../../tachyon/worker/block/BlockDataManager.html#lockBlock(long,%20long)"><code>BlockDataManager.lockBlock(long, long)</code></a> and
 <a href="../../tachyon/worker/block/BlockDataManager.html#unlockBlock(long,%20long)"><code>BlockDataManager.unlockBlock(long, long)</code></a>.

 <h2>Data</h2>

 This service is the main interaction between users and reading blocks. Currently this service
 only supports reading blocks (writing is to local disk).

 There are two different implementations of this layer:
 <a href="../../tachyon/worker/netty/NettyDataServer.html" title="class in tachyon.worker.netty"><code>NettyDataServer</code></a> and <a href="../../tachyon/worker/nio/NIODataServer.html" title="class in tachyon.worker.nio"><code>NIODataServer</code></a>; netty
 is the default. To support both, a <a href="../../tachyon/worker/DataServer.html" title="interface in tachyon.worker"><code>DataServer</code></a> interface is used that just
 defines how to start/stop, and get port details; to start, object init is used.

 The current read protocol is defined in <a href="http://tachyon-project.org/tachyon-common/apidocs/tachyon/worker/DataServerMessage.html?is-external=true" title="class or interface in tachyon.worker"><code>DataServerMessage</code></a>. This has
 two different types: read
 <a href="http://tachyon-project.org/tachyon-common/apidocs/tachyon/worker/DataServerMessage.html?is-external=true#createBlockRequestMessage(long,%20long,%20long)" title="class or interface in tachyon.worker"><code>DataServerMessage.createBlockRequestMessage(long, long, long)</code></a> and
 write
 <a href="http://tachyon-project.org/tachyon-common/apidocs/tachyon/worker/DataServerMessage.html?is-external=true#createBlockResponseMessage(boolean,%20long,%20java.nio.ByteBuffer)" title="class or interface in tachyon.worker"><code>DataServerMessage.createBlockResponseMessage(boolean, long,
 java.nio.ByteBuffer)</code></a>.
 Side note, the netty implementation does not use this class, but has defined two classes for
 the read and write case: <a href="http://tachyon-project.org/tachyon-common/apidocs/tachyon/network/protocol/RPCBlockReadRequest.html?is-external=true" title="class or interface in tachyon.network.protocol"><code>RPCBlockReadRequest</code></a>,
 <a href="http://tachyon-project.org/tachyon-common/apidocs/tachyon/network/protocol/RPCBlockReadResponse.html?is-external=true" title="class or interface in tachyon.network.protocol"><code>RPCBlockReadResponse</code></a>; theses classes are network compatible.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../tachyon/web/package-summary.html">Prev Package</a></li>
<li><a href="../../tachyon/worker/block/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?tachyon/worker/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All Rights Reserved.</small></p>
</body>
</html>
